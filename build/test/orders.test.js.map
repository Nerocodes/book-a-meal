{"version":3,"sources":["../../backend/test/orders.test.js"],"names":["chai","use","chaiHttp","should","describe","it","done","user","email","password","request","app","post","send","end","err","res","have","status","console","log","body","tokens","token","get","set","be","a","order","meal","id","name","description","price","portion","total","put"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEAA,cAAKC,GAAL,CAASC,iBAAT;;AACA,IAAIC,MAAM,GAAGH,cAAKG,MAAL,EAAb,C,CAEA;;;AACAC,QAAQ,CAAC,YAAD,EAAe,YAAM;AACzBC,EAAAA,EAAE,CAAC,mBAAD,EAAsB,UAACC,IAAD,EAAU;AAC9B,QAAMC,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAE,oBADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;;AAIAT,kBAAKU,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,oBADN,EAECC,IAFD,CAEMN,IAFN,EAGCO,GAHD,CAGK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,MAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACA,UAAMC,MAAM,GAAGN,GAAG,CAACK,IAAJ,CAASE,KAAxB;;AACAvB,oBAAKU,OAAL,CAAaC,cAAb,EACCa,GADD,CACK,gBADL,EAECC,GAFD,CAEK,gBAFL,EAEuBH,MAFvB,EAGCR,GAHD,CAGK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACK,IAAJ,CAASlB,MAAT,CAAgBuB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACAf,QAAAA,IAAI;AACP,OARD;AASH,KAhBD;AAiBJ,GAtBE,CAAF;AAuBH,CAxBO,CAAR,C,CA0BA;;AACAF,QAAQ,CAAC,aAAD,EAAgB,YAAM;AAC1BC,EAAAA,EAAE,CAAC,mBAAD,EAAsB,UAACC,IAAD,EAAU;AAC9B,QAAMsB,KAAK,GAAG,CAAC;AACXA,MAAAA,KAAK,EAAE,CACH;AACIC,QAAAA,IAAI,EAAE;AACFC,UAAAA,EAAE,EAAE,CADF;AAEFC,UAAAA,IAAI,EAAE,QAFJ;AAGFC,UAAAA,WAAW,EAAE,gBAHX;AAIFC,UAAAA,KAAK,EAAE;AAJL,SADV;AAOIC,QAAAA,OAAO,EAAE;AAPb,OADG,EAUH;AACIL,QAAAA,IAAI,EAAE;AACFC,UAAAA,EAAE,EAAE,CADF;AAEFC,UAAAA,IAAI,EAAE,MAFJ;AAGFC,UAAAA,WAAW,EAAE,gBAHX;AAIFC,UAAAA,KAAK,EAAE;AAJL,SADV;AAOIC,QAAAA,OAAO,EAAE;AAPb,OAVG,CADI;AAqBXC,MAAAA,KAAK,EAAE;AArBI,KAAD,CAAd;AAuBA,QAAM5B,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAE,oBADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;;AAIAT,kBAAKU,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,oBADN,EAECC,IAFD,CAEMN,IAFN,EAGCO,GAHD,CAGK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,MAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACA,UAAMC,MAAM,GAAGN,GAAG,CAACK,IAAJ,CAASE,KAAxB;;AACAvB,oBAAKU,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,gBADN,EAECa,GAFD,CAEK,gBAFL,EAEuBH,MAFvB,EAGCT,IAHD,CAGMe,KAHN,EAICd,GAJD,CAIK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACK,IAAJ,CAASlB,MAAT,CAAgBuB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACAf,QAAAA,IAAI;AACP,OATD;AAUH,KAjBD;AAkBH,GA9CC,CAAF;AA+CH,CAhDO,CAAR,C,CAkDA;;AACAF,QAAQ,CAAC,gBAAD,EAAmB,YAAM;AAC7BC,EAAAA,EAAE,CAAC,wBAAD,EAA2B,UAACC,IAAD,EAAU;AACnC,QAAMC,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAE,oBADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;;AAIAT,kBAAKU,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,oBADN,EAECC,IAFD,CAEMN,IAFN,EAGCO,GAHD,CAGK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,MAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACA,UAAMC,MAAM,GAAGN,GAAG,CAACK,IAAJ,CAASE,KAAxB;;AACAvB,oBAAKU,OAAL,CAAaC,cAAb,EACCa,GADD,0BACuB,CADvB,GAECC,GAFD,CAEK,gBAFL,EAEuBH,MAFvB,EAGCR,GAHD,CAGK,UAACC,GAAD,EAAKC,GAAL,EAAa;AACdA,QAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACK,IAAJ,CAASlB,MAAT,CAAgBuB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAd,QAAAA,IAAI;AACP,OARD;AASH,KAhBD;AAiBH,GAtBC,CAAF;AAuBH,CAxBO,CAAR,C,CA0BA;;AACAF,QAAQ,CAAC,gBAAD,EAAmB,YAAM;AAC7BC,EAAAA,EAAE,CAAC,2BAAD,EAA8B,UAACC,IAAD,EAAU;AACtC,QAAMsB,KAAK,GAAG;AACVA,MAAAA,KAAK,EAAE,CACH;AACIC,QAAAA,IAAI,EAAE;AACFC,UAAAA,EAAE,EAAE,CADF;AAEFC,UAAAA,IAAI,EAAE,QAFJ;AAGFC,UAAAA,WAAW,EAAE,gBAHX;AAIFC,UAAAA,KAAK,EAAE;AAJL,SADV;AAOIC,QAAAA,OAAO,EAAE;AAPb,OADG,EAUH;AACIL,QAAAA,IAAI,EAAE;AACFC,UAAAA,EAAE,EAAE,CADF;AAEFC,UAAAA,IAAI,EAAE,MAFJ;AAGFC,UAAAA,WAAW,EAAE,gBAHX;AAIFC,UAAAA,KAAK,EAAE;AAJL,SADV;AAOIC,QAAAA,OAAO,EAAE;AAPb,OAVG,CADG;AAqBVC,MAAAA,KAAK,EAAE;AArBG,KAAd;AAuBA,QAAM5B,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAE,oBADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;;AAIAT,kBAAKU,OAAL,CAAaC,cAAb,EACCC,IADD,CACM,oBADN,EAECC,IAFD,CAEMN,IAFN,EAGCO,GAHD,CAGK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,MAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,IAAhB;AACA,UAAMC,MAAM,GAAGN,GAAG,CAACK,IAAJ,CAASE,KAAxB;;AACAvB,oBAAKU,OAAL,CAAaC,cAAb,EACCyB,GADD,0BACuB,CADvB,GAECX,GAFD,CAEK,gBAFL,EAEuBH,MAFvB,EAGCT,IAHD,CAGMe,KAHN,EAICd,GAJD,CAIK,UAACC,GAAD,EAAMC,GAAN,EAAc;AACfA,QAAAA,GAAG,CAACb,MAAJ,CAAWc,IAAX,CAAgBC,MAAhB,CAAuB,GAAvB;AACAF,QAAAA,GAAG,CAACK,IAAJ,CAASlB,MAAT,CAAgBuB,EAAhB,CAAmBC,CAAnB,CAAqB,QAArB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAd,QAAAA,IAAI;AACP,OATD;AAUH,KAjBD;AAkBH,GA9CC,CAAF;AA+CH,CAhDO,CAAR,C,CAkDA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../index';\r\n\r\nchai.use(chaiHttp);\r\nlet should = chai.should();\r\n\r\n// Test /Get route\r\ndescribe('/GET order', () => {\r\n    it('should get orders', (done) => {\r\n        const user = {\r\n            email: 'nero@nerocodes.com',\r\n            password: 'pass'\r\n        };\r\n        chai.request(app)\r\n        .post('/api/v1/auth/login')\r\n        .send(user)\r\n        .end((err, res) => {\r\n            res.should.have.status(200);\r\n            console.log(res.body);\r\n            const tokens = res.body.token;\r\n            chai.request(app)\r\n            .get('/api/v1/orders')\r\n            .set('x-access-token', tokens)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n                console.log(res.body);\r\n                done();\r\n            });\r\n        });\r\n   });\r\n});\r\n\r\n// Test /POST route\r\ndescribe('/POST order', () => {\r\n    it('should post order', (done) => {\r\n        const order = [{\r\n            order: [\r\n                {\r\n                    meal: {\r\n                        id: 1,\r\n                        name: 'Burger',\r\n                        description: 'Chicken burger',\r\n                        price: 4000,\r\n                    },\r\n                    portion: 2\r\n                },\r\n                {\r\n                    meal: {\r\n                        id: 3,\r\n                        name: 'Cake',\r\n                        description: 'Chocolate cake',\r\n                        price: 2000,\r\n                    },\r\n                    portion: 1\r\n                }\r\n            ],\r\n            total: 6000\r\n        }];\r\n        const user = {\r\n            email: 'nero@nerocodes.com',\r\n            password: 'pass'\r\n        };\r\n        chai.request(app)\r\n        .post('/api/v1/auth/login')\r\n        .send(user)\r\n        .end((err, res) => {\r\n            res.should.have.status(200);\r\n            console.log(res.body);\r\n            const tokens = res.body.token;\r\n            chai.request(app)\r\n            .post('/api/v1/orders')\r\n            .set('x-access-token', tokens)\r\n            .send(order)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n                console.log(res.body);\r\n                done();\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n//Test /Get:id route\r\ndescribe('/GET/:id order', () => {\r\n    it('should get order by id', (done) => {\r\n        const user = {\r\n            email: 'nero@nerocodes.com',\r\n            password: 'pass'\r\n        };\r\n        chai.request(app)\r\n        .post('/api/v1/auth/login')\r\n        .send(user)\r\n        .end((err, res) => {\r\n            res.should.have.status(200);\r\n            console.log(res.body);\r\n            const tokens = res.body.token;\r\n            chai.request(app)\r\n            .get(`/api/v1/orders/${1}`)\r\n            .set('x-access-token', tokens)\r\n            .end((err,res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n                console.log('res.body');\r\n                done();\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n//Update Order test\r\ndescribe('/PUT/:id order', () => {\r\n    it('should update order by id', (done) => {\r\n        const order = {\r\n            order: [\r\n                {\r\n                    meal: {\r\n                        id: 1,\r\n                        name: 'Burger',\r\n                        description: 'Chicken burger',\r\n                        price: 4000,\r\n                    },\r\n                    portion: 2\r\n                },\r\n                {\r\n                    meal: {\r\n                        id: 3,\r\n                        name: 'Cake',\r\n                        description: 'Chocolate cake',\r\n                        price: 2000,\r\n                    },\r\n                    portion: 1\r\n                }\r\n            ],\r\n            total: 6000\r\n        };\r\n        const user = {\r\n            email: 'nero@nerocodes.com',\r\n            password: 'pass'\r\n        };\r\n        chai.request(app)\r\n        .post('/api/v1/auth/login')\r\n        .send(user)\r\n        .end((err, res) => {\r\n            res.should.have.status(200);\r\n            console.log(res.body);\r\n            const tokens = res.body.token;\r\n            chai.request(app)\r\n            .put(`/api/v1/orders/${1}`)\r\n            .set('x-access-token', tokens)\r\n            .send(order)\r\n            .end((err, res) => {\r\n                res.should.have.status(200);\r\n                res.body.should.be.a('object');\r\n                console.log('res.body');\r\n                done();\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n//Delete Order\r\n\r\n// describe('/DELETE/:id order', () => {\r\n//     it('should delete order by id', (done) => {\r\n//         chai.request(app)\r\n//         .delete(`/api/v1/orders/ ${1}`)\r\n//         .end((err, res) => {\r\n//             res.should.have.status(200);\r\n//             res.body.should.be.a('object');\r\n//             console.log(res.body);\r\n//             done();\r\n//         });\r\n//     });\r\n// });"],"file":"orders.test.js"}