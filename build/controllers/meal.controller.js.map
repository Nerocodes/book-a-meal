{"version":3,"sources":["../../backend/controllers/meal.controller.js"],"names":["MealController","fetchAllMeals","req","res","models","Meal","findAll","then","meals","json","status","data","catch","err","console","log","addAMeal","newMeal","body","create","name","description","price","getSingleMeal","id","params","findById","updateAMeal","update","meal","deleteAMeal","users","destroy"],"mappings":"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","sourcesContent":["import models from '../models/index';\r\n\r\nconst MealController = {\r\n\r\n    fetchAllMeals(req, res){\r\n        models.Meal.findAll().then(meals => {\r\n            return res.json({\r\n                status: 'success',\r\n                data: meals\r\n            }).status(200);\r\n        })\r\n        .catch(err => console.log(err));\r\n    },\r\n\r\n    addAMeal(req, res){\r\n        /*\r\n            Expect json of format\r\n            {\r\n                name: \"random\",\r\n                description: \"random\",\r\n                price: 300\r\n            }\r\n         */\r\n\r\n         const newMeal = req.body;\r\n         models.Meal.create({\r\n            name: newMeal.name,\r\n            description: newMeal.description,\r\n            price: newMeal.price\r\n\r\n        }).then(meals => {\r\n           return res.json({\r\n               status: 'success',\r\n               data: meals\r\n            }).status(201);\r\n        }).catch(err => console.log(err));\r\n    },\r\n\r\n    getSingleMeal(req, res){\r\n        const id = req.params.id;\r\n        models.Meal.findById(id).then(meals => {\r\n            return res.json({\r\n                status: 'success',\r\n                data: meals\r\n             }).status(200);\r\n        }).catch(err => console.log(err));\r\n    },\r\n\r\n    updateAMeal(req, res){\r\n        const id = req.params.id;\r\n        const newMeal = req.body;\r\n        models.Meal.findById(id).then(meals => {\r\n            meals.update({\r\n                name: newMeal.name,\r\n                description: newMeal.description,\r\n                price: newMeal.price\r\n            }).then(meal => {\r\n                return res.json({\r\n                    status: 'success',\r\n                    data: meal\r\n                 }).status(201);\r\n            });\r\n        }).catch(err => console.log(err));\r\n    },\r\n\r\n    deleteAMeal(req, res){\r\n        const id = req.params.id;\r\n        models.Meal.findById(id).then(users => {\r\n            users.destroy().then(() => {\r\n                return res.json({\r\n                    status: 'success',\r\n                    data: 'Deleted Successfully'\r\n                 }).status(201);\r\n            });\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n}\r\n\r\nexport default MealController;"],"file":"meal.controller.js"}